<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script type="text/javascript">
        var uname = sessionStorage.getItem("userName");
        var password = sessionStorage.getItem("userPassword");

        function ScoresPage() {//function called when page loads, displays all scores and max score
            var max = localStorage.getItem(uname + password + "HighestScore");//extract max to compare with each score
            document.getElementById("gameScores").innerHTML = "";//cleans the inner HTML of the game scores, to add the new score
            for (var i = 0; i <= localStorage.getItem(uname + password + "gameCount"); i++) {
                if (localStorage.getItem(uname + password + "score" + i) != null)//if player actually played and didnt just reload
                    document.getElementById("gameScores").innerHTML += "<li>" + "Game " + (i + 1) + ": " + localStorage.getItem(uname + password + "score" + i) + "</li>" + "<br>";//display
                if (parseInt(localStorage.getItem(uname + password + "score" + i)) > parseInt(max))//if cur score is greater than max score, update the max
                    max = localStorage.getItem(uname + password + "score" + i);
            }
            document.getElementById("all").innerHTML += "Player " + uname;
            document.getElementById("highest").innerHTML = "<br>Highest Score: " + max;//print to page highest score
            localStorage.setItem(uname + password + "HighestScore", max);
        }
    </script>
    <link href="styles.css" rel="stylesheet" />
</head>
<body onload="ScoresPage()">
    <section>
        <header>
            <div class="text">Welcome to Bomb Bubbles!</div>
        </header>
        <aside id="rAside">
            <nav>
                <button class="button" onclick="location.assign('EntrancePage.html')">New Player</button>
                <br />
                <br />
                <button class="button" onclick="location.assign('GamePreferences.html')">Change Preferences</button>
                <br />
                <br />
                <button class="button" onclick="location.assign('BubblesGame.html')">Play Again</button>
            </nav>
        </aside>
        <article>
            <h3 id="all" style="color:darkred; float:none; margin-bottom:0px; padding:2px; margin-top:0px; background-image:radial-gradient(white, gray,gray,white,gray,black,gray, white)">All Scores: </h3>
            <p id="gameScores"></p>
            <h3 style="color:brown;" id="highest"></h3>
        </article>
        <footer>created by Batsheva Rich</footer>
    </section>
</body>
</html>